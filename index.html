<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sunstone Opportunity Quality Score (OQS) Calculator</title>
  <style>
    :root{--green:#2f8a3e;--lightgreen:#dff0d8;--muted:#6b6b6b;--card:#ffffff}
    body{font-family:Inter, Roboto, Arial, sans-serif;background:#f6f8f6;margin:0;padding:24px;color:#122;}
    .container{max-width:980px;margin:0 auto;background:var(--card);box-shadow:0 6px 18px rgba(0,0,0,0.08);border-radius:10px;overflow:hidden}
    header{display:flex;align-items:center;gap:12px;padding:18px 22px;background:linear-gradient(90deg,#f8fff8, #f1fff2)}
    .logo{height:44px}
    h1{font-size:18px;margin:0;color:var(--green)}
    .sub{font-size:13px;color:var(--muted)}
    .grid{display:grid;grid-template-columns:1fr 280px;gap:20px;padding:22px}
    .card{background:#fff;padding:16px;border-radius:8px;box-shadow:inset 0 0 0 1px rgba(0,0,0,0.03)}
    label{display:block;font-weight:600;margin-bottom:6px;font-size:13px}
    select,input[type=number],.row-input{width:100%;padding:8px;border-radius:6px;border:1px solid #e1e6e1;background:#fbffff}
    .row{display:flex;gap:10px;align-items:center;margin-bottom:12px}
    .small{font-size:12px;color:#444}
    .btn{display:inline-block;padding:10px 14px;border-radius:8px;background:var(--green);color:#fff;border:none;cursor:pointer}
    .result{padding:12px;border-radius:8px;background:linear-gradient(180deg,#fbfff9,#f2fff2);text-align:center}
    .scorebig{font-size:36px;color:var(--green);font-weight:700}
    .breakdown{margin-top:12px}
    .break-row{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px dashed #edf7ee}
    footer{padding:12px 22px;color:#666;font-size:13px}
    @media(max-width:900px){.grid{grid-template-columns:1fr;}.logo{height:36px}}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <img class="logo" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQIAAACUCAMAAABP2deIAAAA0lBMVEX///8aPnD...4QAKWcAI2Dz/v/c5OtGWH4ONnGmrb93hKM/WH4AMWeWorV/j6oAAFO1vssVQGrC" alt="Sunstone logo">
      <div>
        <h1>Sunstone Opportunity Quality Score (OQS)</h1>
        <div class="sub">Management roles — selects produce a weighted OQS (0–100)</div>
      </div>
    </header>

    <div class="grid">
      <div class="card">
        <h3 style="margin-top:0">Select criteria</h3>

        <div class="row">
          <div style="flex:1">
            <label>Company Tier (1–5)</label>
            <select id="companyTier">
              <option value="1">1 — Other (0–50 employees)</option>
              <option value="2">2 — Other (50–200) / Research / KPO</option>
              <option value="3">3 — Other (200–1000)</option>
              <option value="4">4 — MNC / Public / Unicorn / Govt / >1000 or >$250M</option>
              <option value="5">5 — Big 5 or Fortune 500</option>
            </select>
            <div class="small">Weight: 35%</div>
          </div>
        </div>

        <div class="row">
          <div style="flex:1">
            <label>Glassdoor Rating</label>
            <input id="glassdoor" type="number" min="0" max="5" step="0.1" value="3.5">
            <div class="small">Weight: 25% — Enter company rating (e.g., 3.8)</div>
          </div>
        </div>

        <div class="row">
          <div style="flex:1">
            <label>Full Time Compensation (CTC)</label>
            <select id="ctc">
              <option value="0">0 — &lt;2.5 LPA</option>
              <option value="1">1 — 2.5–3 LPA</option>
              <option value="2">2 — 3–4 LPA</option>
              <option value="3">3 — 4–6 LPA</option>
              <option value="4">4 — 6–9 LPA</option>
              <option value="5">5 — &gt;9 LPA (Fresher roles)</option>
            </select>
            <div class="small">Weight: 10%</div>
          </div>
        </div>

        <div class="row">
          <div style="flex:1">
            <label>Job Role Quality</label>
            <select id="roleQuality">
              <option value="3">3 — Sales</option>
              <option value="5">5 — Non-Sales</option>
            </select>
            <div class="small">Weight: 10%</div>
          </div>
        </div>

        <div class="row">
          <div style="flex:1">
            <label>Past Campus Engagement & Feedback</label>
            <select id="pastFeedback">
              <option value="0">0 — Poor feedback (No process conducted)</option>
              <option value="3">3 — Neutral (No past engagement)</option>
              <option value="5">5 — Good feedback (Process conducted)</option>
            </select>
            <div class="small">Weight: 10%</div>
          </div>
        </div>

        <div class="row">
          <div style="flex:1">
            <label>PPO Conversion Cases</label>
            <select id="ppo">
              <option value="0">0</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
            </select>
            <div class="small">Weight: 10%</div>
          </div>
        </div>

        <hr>
        <h4 style="margin:8px 0">Stipend & Duration (Internship)</h4>
        <div class="row">
          <div style="flex:1">
            <label>Stipend (INR per month)</label>
            <select id="stipend">
              <option value="0">0</option>
              <option value="10000">&lt; 10,000</option>
              <option value="15000">10,000–20,000</option>
              <option value="20000">20,000 and above / Direct Full Time</option>
            </select>
          </div>
          <div style="width:140px">
            <label>Duration (months)</label>
            <input id="duration" type="number" min="0" step="1" value="3">
          </div>
        </div>

        <div style="margin-top:12px;display:flex;gap:10px;align-items:center">
          <button class="btn" id="calcBtn">Calculate OQS</button>
          <button class="btn" id="resetBtn" style="background:#8aae87">Reset</button>
        </div>

      </div>

      <div>
        <div class="card result">
          <div class="small">Overall OQS (0–100)</div>
          <div id="finalScore" class="scorebig">0</div>
          <div id="percentLabel" class="small">Weighted score</div>

          <div class="breakdown" id="breakdown">
            <!-- breakdown rows -->
          </div>
        </div>

        <div class="card" style="margin-top:16px">
          <h4 style="margin:6px 0">How score is calculated</h4>
          <div class="small">Each dimension is scored 0–5. The final OQS is a weighted sum of each score according to the weights below:</div>
          <ul style="margin:8px 0 0 18px;color:#333">
            <li>Company Tier — 35%</li>
            <li>Glassdoor Rating — 25%</li>
            <li>Full Time Compensation — 10%</li>
            <li>Job Role Quality — 10%</li>
            <li>Past Engagement — 10%</li>
            <li>PPO Conversion — 10%</li>
          </ul>
        </div>
      </div>
    </div>

    <footer>
      Built for Sunstone. This calculator is for management roles only. Adjust inputs and click <strong>Calculate OQS</strong>.
    </footer>
  </div>

  <script>
    // Weights
    const WEIGHTS = {company:35, glassdoor:25, ctc:10, role:10, past:10, ppo:10};

    function companyScore(v){
      // input 1..5 maps directly to score 1..5 (we'll keep 0 if unknown)
      const n = Number(v);
      return Math.max(0, Math.min(5, n));
    }

    function glassdoorScore(rating){
      // map continuous rating to 0-5 per the provided buckets in screenshot
      const r = Number(rating);
      if(isNaN(r)) return 0;
      if(r < 2.5) return 0;
      if(r < 3.0) return 1;
      if(r < 3.3) return 2;
      if(r < 3.7) return 3;
      if(r < 4.0) return 4;
      return 5;
    }

    function stipendScore(stipend, duration){
      // implement the exact logic: table provided by user
      stipend = Number(stipend);
      duration = Number(duration);
      if(stipend === 0) return 0; // any duration
      if(stipend < 10000){
        if(duration >=3 && duration <=6) return 1;
        if(duration >=0 && duration <=3) return 2;
        return 1; // default
      }
      if(stipend >=10000 && stipend < 20000){
        if(duration >=6) return 3;
        // 0-6 months -> 4 according to table (10-20k 0-6 => 4)
        return 4;
      }
      // 20k and above OR Direct Full time -> score 5
      if(stipend >= 20000) return 5;
      return 0;
    }

    function compute(){
      const comp = document.getElementById('companyTier').value;
      const glass = document.getElementById('glassdoor').value;
      const ctc = Number(document.getElementById('ctc').value);
      const role = Number(document.getElementById('roleQuality').value);
      const past = Number(document.getElementById('pastFeedback').value);
      const ppo = Number(document.getElementById('ppo').value);
      const stipend = Number(document.getElementById('stipend').value);
      const duration = Number(document.getElementById('duration').value);

      const s_company = companyScore(comp);
      const s_glass = glassdoorScore(glass);
      const s_ctc = Number(ctc);
      const s_role = Number(role);
      const s_past = Number(past);
      const s_ppo = Number(ppo);
      // For internships, CTC may be replaced by stipend score if stipend>0
      const s_stipend = stipendScore(stipend,duration);

      // Decide which to use for the 'compensation' slot: if stipend>0 assume internship and use stipend score
      const s_compensation = stipend>0 ? s_stipend : s_ctc;

      // Weighted calculation (score 0-5 scaled to weight)
      const totalWeight = WEIGHTS.company + WEIGHTS.glassdoor + WEIGHTS.ctc + WEIGHTS.role + WEIGHTS.past + WEIGHTS.ppo;
      function weighted(score, weight){ return (score/5) * weight; }

      const w_company = weighted(s_company, WEIGHTS.company);
      const w_glass = weighted(s_glass, WEIGHTS.glassdoor);
      const w_ctc = weighted(s_compensation, WEIGHTS.ctc);
      const w_role = weighted(s_role, WEIGHTS.role);
      const w_past = weighted(s_past, WEIGHTS.past);
      const w_ppo = weighted(s_ppo, WEIGHTS.ppo);

      const final = +(w_company + w_glass + w_ctc + w_role + w_past + w_ppo).toFixed(2);
      // show as 0-100 scale
      const final100 = Math.round(final);

      document.getElementById('finalScore').innerText = final100;

      const breakdown = document.getElementById('breakdown');
      breakdown.innerHTML = '';
      const rows = [
        ['Company Tier', s_company, WEIGHTS.company, w_company],
        ['Glassdoor', s_glass, WEIGHTS.glassdoor, w_glass],
        ['Compensation', s_compensation, WEIGHTS.ctc, w_ctc],
        ['Role Quality', s_role, WEIGHTS.role, w_role],
        ['Past Engagement', s_past, WEIGHTS.past, w_past],
        ['PPO Cases', s_ppo, WEIGHTS.ppo, w_ppo]
      ];
      rows.forEach(r =>{
        const div = document.createElement('div');
        div.className='break-row';
        div.innerHTML = `<div style=\"font-weight:600;\">${r[0]}</div><div style=\"text-align:right;\"><div style=\"font-weight:700;color:var(--green)\">Score: ${r[1]}</div><div class=\"small\">Weighted: ${r[3].toFixed(2)}%</div></div>`;
        breakdown.appendChild(div);
      });
    }

    document.getElementById('calcBtn').addEventListener('click', compute);
    document.getElementById('resetBtn').addEventListener('click', ()=>{
      document.getElementById('companyTier').value='1';
      document.getElementById('glassdoor').value='3.5';
      document.getElementById('ctc').value='0';
      document.getElementById('roleQuality').value='3';
      document.getElementById('pastFeedback').value='0';
      document.getElementById('ppo').value='0';
      document.getElementById('stipend').value='0';
      document.getElementById('duration').value='3';
      document.getElementById('finalScore').innerText='0';
      document.getElementById('breakdown').innerHTML='';
    });

    // initial compute
    compute();
  </script>
</body>
</html>
